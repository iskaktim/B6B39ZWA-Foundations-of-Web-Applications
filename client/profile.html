<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile</title>

    <link rel="stylesheet" href="css/styles.css">
</head>

<body>

    <div class="container">

        <main class="content">
            <div id="messages"></div>

            <section class="section">
                <img id="profileAvatar" src="images/default-avatar.jpg" alt="User Avatar" class="avatar">
                <h2 id="profileUsername">Guest</h2>

                <p><strong>Joined:</strong> <span id="joinedDate">Unknown</span></p>
                <p><strong>Total Posts:</strong> <span id="totalPosts">0</span></p>
                <p><strong>Email:</strong> <span id="profileEmail">unknown@gmail.com</span></p>
                <p><strong>Role:</strong> <span id="profileRole">guest</span></p>

            </section>

            <form id="profileForm" class="profile-form section">
                <h3>Update Profile</h3>
                <input type="hidden" name="action" value="update_profile">

                <label for="new-username">Username: <span class="required">*</span></label>
                <input type="text" id="new-username" name="username" placeholder="Enter Username" required>

                <label for="new-email">Email: <span class="required">*</span></label>
                <input type="email" id="new-email" name="email" placeholder="Enter Email" required>

                <button type="submit" class="button">Update Profile</button>

                <span class="required-info">
                    Fields marked with <span class="required">*</span> are required.
                </span>
            </form>

            <form id="avatarForm" class="profile-form section" enctype="multipart/form-data">
                <h3>Update Avatar</h3>
                <input type="hidden" name="action" value="upload_avatar">

                <label for="new-avatar">New avatar (JPG, JPEG, PNG, GIF (2MB)):</label>
                <input type="file" id="new-avatar" name="avatar" accept=".jpg,.jpeg,.png,.gif" required>

                <button type="submit" class="button">Upload Avatar</button>
            </form>

            <div class="section">
                <h3>Delete Avatar</h3>
                <button type="button" id="deleteAvatarBtn" class="button">Delete Current Avatar</button>
            </div>

            <form id="passwordForm" class="profile-form section">
                <h3>Change Password</h3>
                <input type="hidden" name="action" value="update_password">

                <label for="current-password">Current password: <span class="required">*</span></label>
                <input type="password" id="current-password" name="current_password" placeholder="Current Password" required>

                <label for="new-password">New password: <span class="required">*</span></label>
                <input type="password" id="new-password" name="new_password" placeholder="New Password" required>

                <label for="confirm-password">Confirm new password: <span class="required">*</span></label>
                <input type="password" id="confirm-password" name="confirm_password" placeholder="Confirm Password" required>

                <button type="submit" class="button">Update Password</button>

                <div id="passwordErrors" class="form-errors"></div>

                <span class="required-info">
                    Fields marked with <span class="required">*</span> are required.
                </span>
                
            </form>

        </main>
    </div>

    <script src="js/staticFunctions.js"></script>
    <script src="js/profile.js"></script>

</body>

</html>